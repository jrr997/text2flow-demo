(()=>{"use strict";var e={292:function(e,t,n){var r=n(132),o=n(546),l=n(828),a=n(477),s=n(150);n(255);var i=n(551);let u=e=>{let{id:t,data:n,isEditing:o,onEdit:l,onBlur:i,onChange:u}=e;return(0,r.jsxs)("div",{className:"node-content",children:[(0,r.jsx)(a.HH,{type:"target",position:s.Ly.Left}),o?(0,r.jsx)("input",{type:"text",value:n.label,onChange:e=>u(e,{id:t,...n}),onBlur:e=>i(e,{id:t,...n}),autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&i(e,{id:t,...n})}}):(0,r.jsx)("div",{onDoubleClick:e=>l(e,{id:t,...n}),children:n.label}),(0,r.jsx)(a.HH,{type:"source",position:s.Ly.Right})]})};l.createRoot(document.getElementById("root")).render((0,r.jsx)(a.tV,{children:(0,r.jsx)(()=>{let[e,t,n]=(0,a.Rr)([]),[l,c,d]=(0,a.ll)([]),[p,h]=(0,o.useState)(""),[v,f]=(0,o.useState)(null),b=(0,o.useRef)(null),{getNodes:m,getNodesBounds:x}=(0,a._K)(),g=x(m()),j=(0,o.useCallback)(e=>{let n=e.split("→").map(e=>e.trim()),r=n.map((e,t)=>({id:`node-${t}`,data:{label:e},position:{x:250*t,y:100},type:"custom"})),o=n.slice(0,-1).map((e,t)=>({id:`edge-${t}`,source:`node-${t}`,target:`node-${t+1}`}));t(r),c(o)},[t,c]),y=(0,o.useCallback)(e=>c(t=>(0,s.Z_)(e,t)),[c]),k=(0,o.useCallback)((e,t)=>{f(t)},[f]),C=(0,o.useCallback)((e,t)=>{f(null)},[f]),w=(0,o.useCallback)((e,n)=>{t(t=>t.map(t=>t.id===n.id?{...t,data:{...t.data,label:e.target.value}}:t))},[t]),O=(0,o.useCallback)(()=>{let e=b.current;if(!e)return;let t=e.querySelector(".react-flow__viewport");if(!t)return;let n=(0,s.$i)(g,1024,768,.5,2);(0,i.YM)(t,{backgroundColor:"#1a365d",width:1024,height:768,style:{width:1024,height:768,transform:`translate(${n.x}px, ${n.y}px) scale(${n.zoom})`}}).then(function(e){let t=document.createElement("a");t.setAttribute("download","reactflow.png"),t.setAttribute("href",e),t.click(),t.remove(),window.URL.revokeObjectURL(e)})},[g]),N=(0,o.useMemo)(()=>({custom:e=>(0,r.jsx)(u,{...e,isEditing:(null==v?void 0:v.id)===e.id,onEdit:k,onBlur:C,onChange:w})}),[v,k,C,w]);return(0,r.jsxs)("div",{className:"app-container",children:[(0,r.jsx)("div",{className:"input-section",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=p||"登录 → 验证短信 → 进入主页";p||h(t),j(t)},children:[(0,r.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"输入流程文本，例如：登录 → 验证短信 → 进入主页",className:"text-input"}),(0,r.jsx)("button",{type:"submit",className:"submit-button",children:"生成流程图"}),(0,r.jsx)("button",{type:"button",className:"export-button",onClick:O,children:"导出PNG"})]})}),(0,r.jsx)("div",{className:"flow-container",ref:b,children:(0,r.jsxs)(a.x$,{nodes:e,edges:l,onNodesChange:n,onEdgesChange:d,onConnect:y,nodeTypes:N,fitView:!0,children:[(0,r.jsx)(a.Aq,{}),(0,r.jsx)(a.ZX,{}),(0,r.jsx)(a.a9,{})]})})]})},{})}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];n.O=(t,r,o,l)=>{if(r){l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[r,o,l];return}for(var s=1/0,a=0;a<e.length;a++){for(var[r,o,l]=e[a],i=!0,u=0;u<r.length;u++)(!1&l||s>=l)&&Object.keys(n.O).every(e=>n.O[e](r[u]))?r.splice(u--,1):(i=!1,l<s&&(s=l));if(i){e.splice(a--,1);var c=o();void 0!==c&&(t=c)}}return t}})(),n.rv=()=>"1.3.0",(()=>{var e={980:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,l,[a,s,i]=r,u=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var c=i(n)}for(t&&t(r);u<a.length;u++)l=a[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},r=self.webpackChunkreact_flow_demo=self.webpackChunkreact_flow_demo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.ruid="bundler=rspack@1.3.0";var r=n.O(void 0,["361","474"],function(){return n(292)});r=n.O(r)})();